struct MainView : View {
    @State private var colony = Colony("name", 10,
        [Coordinate(5,5),
        Coordinate(5,6),
        Coordinate(5,7),
        Coordinate(6,6)
    ])
    @State private var location = CGPoint.zero
    var board: Board {
        return Board(colony: $colony)
    }
    
    var body: some View {
        board
            .frame(width: 700, height: 700)
            .gesture(
                DragGesture()
                    .onChanged { value in
                        if self.colony.isCellAlive(self.colony.convertToCoordinates(Double(value.location.y), Double(value.location.x))) {
                            self.colony.setCellDead(self.colony.convertToCoordinates(Double(value.location.y), Double(value.location.x)))
                        } else {
                            self.colony.setCellAlive(self.colony.convertToCoordinates(Double(value.location.y), Double(value.location.x)))
                        }
                        self.location = CGPoint(x: value.location.x, y: value.location.y)
                    }
            )
    }
}

struct MainView_Previews : PreviewProvider {
    static var previews: some View {
        MainView()
    }
}
